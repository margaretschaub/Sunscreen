# Load to MySQL

## MySQL Queries
Use create_db_and_tables.sql query to create MySQL tables to load into.
 
MySQL tables: store information, inventory data with a foreign key to each store, product list with ingredients and reef-safe status, and a reef safe status key.

I created an additional table to hold the matched product names. 
I used a MySQL join to match products with identical names (insert_direct_product_matches.sql). I wrote a Python program using fuzzy string matching to identify the remaining name pairs (string_matching.py). 
Each name match corresponds to a primary key. I created both new inventory and product tables (create_new_w_match_column.sql, insert_into_new_w_match.sql), each with a new column containing a foreign key corresponding to the primary key of the name match table. With this update, even if the product names differ between the inventory and product details table, the products can be linked with the foreign key.

update_brands.sql query updates products table with brand name

query_what_needs_matching.sql query identifies which products need to be matched

connect_names.sql query shows matched name, inventory name, and product name to review names have been  matched accurately

## Loading to MySQL tables with Python

connect_mysql.py loads generates CSV files into MySQL tables

```Usage: 
connect_mysql.py [options] <password> <table> <input>

Arguments:
password MySQL user password
table    table name to load into: store, inventory, product, matches
input    input csv file

Options:
  -h --help           Show this screen.
  store               load into retailer_stores table
  inventory           load into foodland_inventory table
  product             load into products table
  matches             load into product_matches table
  ```
For example:
to load foodland inventory to the table foodland_inventory
specify the command 'inventory' followed by the csv file generated by scraper.py

csv output from scraper.py loads to foodland_inventory table

csv output from store_info.py loads to retailer_stores table

csv output from reef_safe.py loads to products table

csv output from string_matching.py loads to product_matches table
